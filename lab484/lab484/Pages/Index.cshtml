@page
@model lab484.Pages.IndexModel
@{

}

<br />
<br />
<h2 class="text-center">Grant Management System</h2>
<p class="text-center">Created by: Nick Clement and Sam Ogden</p>
<br />

@{
    if (ViewData["LoginMessage"] != null)
    {
        <div class="text-center">
            <p class="text-danger fw-bold">@ViewData["LoginMessage"]</p>
        </div>
    }
}

@{
    if (HttpContext.Session.GetString("username") != null)
    {
        <div class="text-center">
        <p>@HttpContext.Session.GetString("username") logged in</p>

        
        <form asp-page="Index" asp-page-handler="LogoutHandler">
            <input type="submit" class="btn btn-danger" value="Logout">
        </form>
        </div>
    }
    else
    {
        <form method="post" asp-page="Index">
            <div class="form-floating mb-3">
                <input asp-for="Username" class="form-control" id="floatingUsername" placeholder="Username" />
                <label for="floatingUsername">Username</label>
            </div>
            <div class="form-floating">
                <input asp-for="Password" class="form-control" id="floatingPassword" type="password" placeholder="Password" />
                <label for="floatingPassword">Password</label>
            </div>

            <a class="btn btn-link" asp-page="addUser">Add New User</a>

            <div class="text-center">
                <button type="submit" class="btn btn-primary">Login</button>
            </div>
        </form>
    }
}
